<kendo-grid
  scrollable="none"
  [data]="gridView"
  [sortable]="sortableObject"
  [sort]="sort"
  [groupable]="groupable"
  [group]="groups"
  [selectable]="selectableSettings"
  (dataStateChange)="dataStateChange($event)"
  (groupChange)="groupChange($event)"
  (selectionChange)="onSelectionChange($event)"
  (sortChange)="sortChange($event)"
  (add)="addHandler($event)"
  (cancel)="cancelHandler($event)"
  (cellClick)="editClickHandler($event)"
  (edit)="editHandler($event)"
  (remove)="removeHandler($event)"
  (save)="saveHandler($event)">
  <kendo-grid-messages
    [noRecords]="literals.noRecords"
    [groupPanelEmpty]="literals.groupPanelEmpty">
  </kendo-grid-messages>

  <!-- [selectable]="{enabled: true, checkboxOnly: true}" -->

  <ng-template kendoGridToolbarTemplate *ngIf="addButton || exportButtons" >
    <button kendoGridAddCommand *ngIf="addButton" class="k-primary">{{ literals.add }}</button>
    <button type="button" kendoGridExcelCommand *ngIf="exportButtons" ><span class="k-icon k-i-file-excel"></span></button>
    <button kendoGridPDFCommand *ngIf="exportButtons"><span class='k-icon k-i-file-pdf'></span></button>
  </ng-template>

  <kendo-grid-checkbox-column *ngIf="selectable"
      [width]="40"
      [headerClass]="{'text-center': true}"
      [class]="{'text-center': true}"
      [resizable]="false"
      [columnMenu]="false"
      [showSelectAll]="true"
      (selectAllChange)="onClickColumn($event)"
      (click)="onClickColumn($event)">
  </kendo-grid-checkbox-column>

  <div *ngFor="let col of columns; let i = index">

    <kendo-grid-column
        (click)="onClickColumn(col)"
        [field]="col.column"
        [title]="col.label"
        [width]="col.width"
        [filter]="col.filter"
        [format]="col.format"
        [editor]="col.type">

        <!-- <ng-template kendoGridCellTemplate let-data *ngIf="col.checkbox" let-columnIndex="columnIndex" let-rowIndex="rowIndex">
            <po-checkbox
                name="checkbox">
          </po-checkbox>
        </ng-template> -->

        <ng-template kendoGridCellTemplate let-data *ngIf="col.type === 'date'">
            {{ data[col.column] | date : col.format }}
        </ng-template>

        <ng-template kendoGridCellTemplate let-type *ngIf="col.type === 'label'">
            <div *ngFor="let label of col.labels">
                <span *ngIf="label.value === type[col.column]"
                      class="po-table-column-label po-{{ label.color }}">{{label.label}}
                </span>
            </div>
        </ng-template>

        <ng-template kendoGridGroupHeaderTemplate let-value="value" *ngIf="col.groupHeader">
            {{value}}
        </ng-template>
    </kendo-grid-column>
  </div>

  <kendo-grid-command-column title="" width="80" locked="true" *ngIf="isCommandColumnVisible()">
    <ng-template kendoGridCellTemplate let-isNew="isNew">
      <button kendoGridRemoveCommand class="k-primary" *ngIf="showRemoveButton" >{{ literals.remove }}</button>
      <button kendoGridCancelCommand class="k-primary" (click)="cancelPropagation($event)">{{ isNew ? literals.undo : literals.cancel }} </button>
    </ng-template>
  </kendo-grid-command-column>

  <kendo-grid-excel fileName="spreadsheet.xlsx" [fetchData]="allData"></kendo-grid-excel>

  <kendo-grid-pdf fileName="grid.pdf" [allPages]="true">
    <kendo-grid-pdf-margin top="1cm" left="1cm" right="1cm" bottom="1cm"></kendo-grid-pdf-margin>
  </kendo-grid-pdf>
</kendo-grid>

<div class="k-grid-show-more po-offset-xl-4 po-offset-lg-4 po-offset-md-3 po-lg-4 po-md-6"
     *ngIf="showMore.observers.length > 0">
  <div style="text-align: center;">

    <button class="k-grid-show-more-button po-button po-text-ellipsis"
            (click)="onShowMore()"
            [disabled]="showMoreDisabled">{{ literals.showMore }}
    </button>
  </div>
</div>
